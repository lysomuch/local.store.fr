"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}require(["jquery"],function(l){var n={route:function(t){var e=void 0;for(e in t)jQuery(e).length&&t[e]()},toggle:function(t,e,n){var i=l(t),o=l(e);i.each(function(e){l(this).click(function(t){1==n&&t.stopPropagation(),l(this).toggleClass("closeUp"),o.eq(e).slideToggle()})})},async_toggle:function(t,e,n,i){l(document).on("click",t,function(t){1==i&&t.stopPropagation(),l(this).toggleClass("closeUp").parents(e).find(n).slideToggle()})},addIn:function(t,e){l(t).each(function(){l(this).click(function(){l(this).addClass(e).siblings().removeClass(e)})})},isMob:window.innerWidth<768,getDevices:function(){return window.innerWidth},rem:function(){var t=window.innerWidth;767<t?l("html").css("font-size",t/1920*100):l("html").css("font-size",t/320*50)},swiper:function(t,e){l(window).width()<=t?(l(e).find("li").each(function(){l(this).addClass("swiper-slide")}),require(["swiper"],function(){new Swiper(e,{slidesPerView:"auto"})})):l(e).find("li").each(function(){l(this).removeClass("swiper-slide")})},addCart:function(t,e){var n=l(".minicart-wrapper").offset(),i=e.attr("src"),o=t.offset(),a=l("<img src='"+i+"' class='fly_img' />");require(["flyer"],function(){a.fly({start:{left:o.left,top:o.top-l(document).scrollTop()},end:{left:n.left,top:n.top,width:20,height:20},onEnd:function(){this.destory()}})})},lazy:function(){require(["lazyload"],function(){l("img").lazyload({effect:"show"})})}};function t(){l(".pc-banner .banner-down-button").click(function(){l("html, body").animate({scrollTop:l(window).height()},700)})}function e(){n.toggle(".filter-title",".filter-content"),n.toggle("#toolbar-amount",".toolbar-sorter"),l("button.tocart").click(function(){n.addCart(l(this),l(this).parents("li").find("img"))}),l.ajax({url:"/wishlist/index/ajax",method:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",success:function(t){l(".products-grid ol li").each(function(){var n=l(this),i=n.attr("data-id");l.each(t,function(t,e){i==e&&n.find("a.towishlist").addClass("added")})})}})}function i(){d(".add_more",".del_less"),l(".gift-remove").click(function(){1==confirm("Are you sure you want to do this?")&&l(this).siblings(".action-delete").click()});var t=void 0;t=setInterval(function(){l("dl.items.methods").find("input.radio").length&&(l("dl.items.methods").find("input.radio:checked").length||l("dl.items.methods").find("input.radio").eq(0).click(),clearInterval(t))},500)}function o(){l(".product-info-main .number-box span").click(function(){var t=l(this).siblings("input");l(this).hasClass("less")?parseInt(t.val())-1<=0?t.val(1):t.val(parseInt(t.val())-1):t.val(parseInt(t.val())+1)}),l(".product-info-main").find(".action.primary").before(l(".product-info-main .product-addto-links").html()),l(".product.info.detailed ul li").first().addClass("active"),l(".product.info.detailed .product.data.items > .item.content").first().addClass("active"),l(".product.info.detailed ul li").each(function(){l(this).click(function(){l(this).addClass("active").siblings().removeClass("active"),l(".product.data.items").find(".item.content").eq(l(this).index()).addClass("active").siblings().removeClass("active")})}),l("span.toCheckout").click(function(){l("input[name='checkout']").removeAttr("disabled"),l("body").data("toCheckout","toCheckout"),l(this).parents("form").submit()}),n.toggle("#bundle-slide",".bundle-options-wrapper"),l(".box-tocart div.qty").after(l("#bundle-slide")),n.swiper(1300,".products-related"),l(window).resize(function(){n.swiper(1300,".products-related")}),n.swiper(1300,".products-upsell"),l(window).resize(function(){n.swiper(1300,".products-upsell")}),n.swiper(767,".proudct-infor-tab"),l(window).resize(function(){n.swiper(767,".proudct-infor-tab")}),l("button.tocart").click(function(){n.addCart(l(this),l(".fotorama__active").find("img.fotorama__img"))}),n.toggle(".btn-title",".accessories_product"),d(".add_more",".del_less"),l(document).on("mouseleave",".magnify-lens",function(){l(this).addClass("magnify-hidden"),l(".magnifier-preview").addClass("magnify-hidden")})}function a(){l(".page-title-wrapper").after("<div class='content-box'></div>"),l(".content-box").append(l(".block.account-nav").clone()).find(".content ").removeClass("account-nav-content")}function s(){n.toggle(".item-title",".item-content")}function r(){n.swiper(1300,".account-nav-content"),l(window).resize(function(){n.swiper(1300,".account-nav-content")})}function c(){var t=void 0;t=setInterval(function(){l("#checkout-shipping-method-load").find("input.radio").length&&(l("#checkout-shipping-method-load").find("input.radio:checked").length||l("#checkout-shipping-method-load").find("input.radio").eq(0).click(),clearInterval(t))},500)}function d(t,e){l(document).on("click",t,function(){var t=l(this).siblings("input");t.val(parseInt(t.val())+1)}),l(document).on("click",e,function(){var t=l(this).siblings("input");t.val(parseInt(t.val())-1),t.val()<1&&t.val(1)})}function u(t){var e=t.replace(/-/g,":").replace(" ",":").split(":");return e[1]--,new(Function.prototype.bind.apply(Date,[null].concat(_toConsumableArray(e))))}l(function(){!function(){l(".panel-header").find("a.showcart").click(function(){if(l(window).width()<768){var t=l(this).attr("href");l(location).prop("href",t)}}),l(".right-float ul li.toTop").click(function(){return l("body,html").animate({scrollTop:0},500),!1}),require(["vue"],function(t){var e=new t({el:"#olight-nav",data:{nav:[],hot:[]},methods:{},created:function(){null!=_typeof(localStorage.olight_nav)&&(new Date).getTime()-localStorage.nav_date<3e5?(this.nav=JSON.parse(localStorage.getItem("olight_nav")).nav,this.hot=JSON.parse(localStorage.getItem("olight_nav")).hot):l.get("/catalog/nav/ajax",function(t){localStorage.olight_nav=JSON.stringify(t.result),localStorage.nav_date=(new Date).getTime(),this.nav=JSON.parse(localStorage.getItem("olight_nav")).nav,this.hot=JSON.parse(localStorage.getItem("olight_nav")).hot}.bind(this))},mounted:function(){this.$nextTick(function(){n.toggle(".action.nav-toggle","#olight-nav"),l(e.$refs.menuitem).hover(function(){l(this).addClass("active"),l(this).siblings().removeClass("active")}),l("#olight-nav .hot-nav > li").hover(function(){require(["lazyload"],function(){l("img").lazyload({effect:"show"})})})})},updated:function(){l(e.$refs.menuitem).hover(function(){l(this).addClass("active"),l(this).siblings().removeClass("active")})}})}),l("#time-number").length&&require(["vue"],function(t){var n=new t({el:".countdown",data:{startTime:u(startTime),endTime:u(endTime),nowTime:null,isReady:!1},methods:{},filters:{numDouble:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return"object"==(void 0===n?"undefined":_typeof(n))&&"end"==n.state?e?0:"00":0<=t&&t<10&&!e?"0"+t:t}},created:function(){var i=this;l.ajax({url:"/customer/info/ajax",method:"GET",dataType:"json",success:function(t){l("div.panel-header span.account-name").text(t.name),i.nowTime=new Date(u(t.currentServerTime));var e=i.nowTime.getTime();i.isReady=!0;var n=setInterval(function(){e+=1e3,i.nowTime=new Date(e),0<i.nowTime-i.endTime&&clearInterval(n)},1e3)}})},computed:{timeToStart:function(){return this.startTime-this.nowTime},timeToEnd:function(){return this.endTime-this.nowTime},state:function(){return 0<this.timeToStart?"un_start":0<this.timeToEnd&&this.timeToStart<=0?"start":"end"},day:function(){var t="un_start"==this.state?this.timeToStart:this.timeToEnd;return parseInt(t/1e3/60/60/24)},hour:function(){var t="un_start"==this.state?this.timeToStart:this.timeToEnd;return parseInt(t/1e3/60/60%24)},minute:function(){var t="un_start"==this.state?this.timeToStart:this.timeToEnd;return parseInt(t/1e3/60%60)},seconds:function(){var t="un_start"==this.state?this.timeToStart:this.timeToEnd;return parseInt(t/1e3%60)},text:function(){var t="";return"un_start"==this.state?t="STARTING IN":"start"==this.state&&(t="ENDING IN"),t},startAt:function(){var t=this.startTime,e=t.toDateString().slice(0,-4),n=t.getHours(),i=t.getMinutes(),o=void 0;12<n?(n-=12,o=" PM"):o=" AM";var a=n+":"+i+o;return e+" <b>"+a+"</b>"},endAt:function(){var t=this.endTime,e=t.toDateString().slice(0,-4),n=t.toTimeString().slice(0,5);return e+"| "+n}}})});n.isMob&&n.toggle(".footer_links .links>.block-title",".footer_links .links>ul");var o=!0;l(".right-float").find("li .icon-box").click(function(){var e=l(this).next(".floatbox"),n=l(this).parents("li"),t=l(this).parent("li"),i="";t.hasClass("facebook-contact")?i="/contact/index/facebook":t.hasClass("contact-us")&&(i="/contact/index/ajax"),!e.html()&&i?o&&(o=!1,l.ajax({url:i,type:"GET",dataType:"html",success:function(t){e.append(t),n.removeClass("hideFloat").siblings().addClass("hideFloat"),o=!0}})):n.hasClass("hideFloat")?n.removeClass("hideFloat").siblings().addClass("hideFloat"):n.addClass("hideFloat")}),l(".right-gather").click(function(){var t=l(".right-items").parent(".right-float");t.hasClass("expand")?t.removeClass("expand"):t.addClass("expand")}),setTimeout(function(){l(".right-float").removeClass("expand")},3e3),l("button.subscribe").click(function(){var t=l(this).parents("form").attr("action"),e=l("input#newsletter").val();return e?l.ajax({url:t,type:"POST",data:{email:e},dataType:"json",success:function(t){"ERROR"!=t.status?(l("#newsletter").val(""),l("#newsletter-error").attr("class","message success").show()):l("#newsletter-error").attr("class","mage-error").show(),l("#newsletter-error").text(t.msg)}}):l("#newsletter-error").text("This is a required field.").attr("class","mage-error").show(),!1})}(),l(".addtowishlist").click(function(t){t.stopPropagation(),t.preventDefault();var a,s=l(this),e=s.data("post-wishlist"),n=l("input[name=form_key]").val(),i=s.parents(".product-item-info"),r=i.find(".info-popup"),c=i.find(".product-image-photo");return isLoggedIn?!s.hasClass("added")&&void l.ajax({type:"post",url:e.action,data:{form_key:n,product:e.data.product,uenc:e.data.uenc},success:function(t){if(200==t.code){s.addClass("added"),r.text(t.msg).animate({bottom:0},2e3);var e=l("#extend-info .extend-wish").offset(),n=c.attr("src"),i=s.offset(),o=l("<img src='"+n+"' class='fly_img' />");require(["flyer"],function(){o.fly({start:{left:i.left,top:i.top-l(document).scrollTop()},end:{left:e.left,top:e.top,width:20,height:20},onEnd:function(){this.destory()}})}),clearTimeout(a),a=setTimeout(function(){r.animate({bottom:"-100px"},800,function(){r.text("")})},5e3)}},error:function(t){}}):!(window.location.href="/customer/account/login")}),l(".contact-message").click(function(){$zopim(function(){$zopim.livechat.window.show()})}),n.route({".cms-index-index":t,".customer-account-index":a,".catalog-product-view":o,".checkout-cart-index":i,".cms-page-view":s,".catalog-category-view":e,".account":r,".checkout-index-index":c})}),l.ajax({url:"/customer/info/ajax",method:"GET",dataType:"json",success:function(t){l("div.panel-header span.account-name").text(t.name)}})});